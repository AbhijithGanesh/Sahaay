version: "3.9"

services: 
  api:
    image: sahaay
    container_name: Dancing_Rose
    # Associates the directory called app with this
    # Docker container
    ports:
       - 8080:8080
    environment:
        - DB_URL=postgres://db/sahaayDB
        - SECRET_KEY=4ab5be85c8c56eecdd547f7831979be83de58a6768d10a314f54cda4e4d67ffe
    
    # Links the directory ./app to the docker volume
    # app 
    volumes:
        - ./design:/design
        - ./Core:/Core
  
  db:
    image: postgres
    container_name: database_postgres
    ports:
        - 27018:27018
    volumes:
        - taskdb:/data/db
volumes:
    taskdb: